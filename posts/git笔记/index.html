<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Git笔记 | Paul's Blog</title>
<meta name=keywords content="git"><meta name=description content="Git配置相关 （全局）配置：如果是局部配置，每个仓库都需要进行配置 1 2 3 4 5 6 7 8 # 设置全局配置 # git config --global user.name &#34;zhangqingan&#34; # git config --global user.email &#34;zhangqingannn@bupt.edu.cn&#34; # git config --global https.proxy http://127.0.0.1:7890 # git config --global"><meta name=author content="Paul"><link rel=canonical href=https://qinganzhang.github.io/posts/git%E7%AC%94%E8%AE%B0/><link crossorigin=anonymous href=/assets/css/stylesheet.min.css rel="preload stylesheet" as=style><link rel=icon href=https://qinganzhang.github.io/favicon.ico><link rel=apple-touch-icon href=https://qinganzhang.github.io/apple-touch-icon.png><meta name=twitter:title content="Git笔记 | Paul's Blog"><meta name=twitter:description content="Git配置相关 （全局）配置：如果是局部配置，每个仓库都需要进行配置 1 2 3 4 5 6 7 8 # 设置全局配置 # git config --global user.name &#34;zhangqingan&#34; # git config --global user.email &#34;zhangqingannn@bupt.edu.cn&#34; # git config --global https.proxy http://127.0.0.1:7890 # git config --global"><meta property="og:title" content="Git笔记 | Paul's Blog"><meta property="og:description" content="Git配置相关 （全局）配置：如果是局部配置，每个仓库都需要进行配置 1 2 3 4 5 6 7 8 # 设置全局配置 # git config --global user.name &#34;zhangqingan&#34; # git config --global user.email &#34;zhangqingannn@bupt.edu.cn&#34; # git config --global https.proxy http://127.0.0.1:7890 # git config --global"><meta property="og:type" content="article"><meta property="og:url" content="https://qinganzhang.github.io/posts/git%E7%AC%94%E8%AE%B0/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-02-29T14:56:05+08:00"><meta property="article:modified_time" content="2024-02-29T14:56:05+08:00"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Post","item":"https://qinganzhang.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Git笔记","item":"https://qinganzhang.github.io/posts/git%E7%AC%94%E8%AE%B0/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Git笔记 | Paul's Blog","name":"Git笔记","description":"Git配置相关 （全局）配置：如果是局部配置，每个仓库都需要进行配置 1 2 3 4 5 6 7 8 # 设置全局配置 # git config --global user.name \u0026#34;zhangqingan\u0026#34; # git config --global user.email \u0026#34;zhangqingannn@bupt.edu.cn\u0026#34; # git config --global https.proxy http://127.0.0.1:7890 # git config --global","keywords":["git"],"wordCount":"7088","inLanguage":"en","datePublished":"2024-02-29T14:56:05+08:00","dateModified":"2024-02-29T14:56:05+08:00","author":{"@type":"Person","name":"Paul"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://qinganzhang.github.io/posts/git%E7%AC%94%E8%AE%B0/"},"publisher":{"@type":"Organization","name":"Paul's Blog","logo":{"@type":"ImageObject","url":"https://qinganzhang.github.io/favicon.ico"}}}</script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/katex.min.css integrity=sha384-bYdxxUwYipFNohQlHt0bjN/LCpueqWz13HufFEV1SUatKs1cm4L6fFgCi1jT643X crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/katex.min.js integrity=sha384-Qsn9KnoKISj6dI8g7p1HBlNpVx0I8p1SvlwOldgi3IorMle61nQy4zEahWYtljaz crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],throwOnError:!1})})</script><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary-bg:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list-page{background:var(--theme)}.list-page:not(.dark)::-webkit-scrollbar-track{background:0 0}.list-page:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript></head><body class="type-posts kind-page layout-" id=top><script data-no-instant>function switchTheme(e){switch(e){case"light":document.body.classList.remove("dark");break;case"dark":document.body.classList.add("dark");break;default:window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")}}function isDarkTheme(){return document.body.className.includes("dark")}function getPrefTheme(){return localStorage.getItem("pref-theme")}function setPrefTheme(e){switchTheme(e),localStorage.setItem("pref-theme",e)}const toggleThemeCallbacks={};toggleThemeCallbacks.main=e=>{setPrefTheme(e?"light":"dark")},window.addEventListener("toggle-theme",function(){const e=isDarkTheme();for(const t in toggleThemeCallbacks)toggleThemeCallbacks[t](e)});function toggleThemeListener(){window.dispatchEvent(new CustomEvent("toggle-theme"))}</script><script>(function(){const t="auto",e=getPrefTheme(),n=e||t;switchTheme(n)})()</script><header class=header><nav class=nav><div class=logo><a href=https://qinganzhang.github.io/ accesskey=h title="Paul's Blog (Alt + H)">Paul's Blog</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://qinganzhang.github.io/posts/ title=Posts class=active>Posts</a></li><li><a href=https://qinganzhang.github.io/archives/ title=Archive>Archive</a></li><li><a href=https://qinganzhang.github.io/search/ title="Search (Alt + /)" data-no-instant accesskey=/>Search</a></li><li><a href=https://qinganzhang.github.io/tags/ title=Tags>Tags</a></li><li><a href=https://qinganzhang.github.io/categories/ title=Categories>Categories</a></li><li><a href=https://qinganzhang.github.io/about/ title=About>About</a></li></ul></nav></header><main class="main post"><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://qinganzhang.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://qinganzhang.github.io/posts/>Post</a></div><h1 class=post-title>Git笔记</h1><div class=post-meta><span class=meta-item><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select:text"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select:text"/><line x1="16" y1="2" x2="16" y2="6" style="user-select:text"/><line x1="8" y1="2" x2="8" y2="6" style="user-select:text"/><line x1="3" y1="10" x2="21" y2="10" style="user-select:text"/></svg>
<span>2024-02-29</span></span><span class=meta-item>
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select:text"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z" style="user-select:text"/><line x1="7" y1="7" x2="7" y2="7" style="user-select:text"/></svg>
<span class=post-tags><a href=https://qinganzhang.github.io/tags/git/>git</a></span></span><span class=meta-item>
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text" style="user-select:text"><path d="M14 2H6A2 2 0 004 4v16a2 2 0 002 2h12a2 2 0 002-2V8z" style="user-select:text"/><polyline points="14 2 14 8 20 8" style="user-select:text"/><line x1="16" y1="13" x2="8" y2="13" style="user-select:text"/><line x1="16" y1="17" x2="8" y2="17" style="user-select:text"/><polyline points="10 9 9 9 8 9" style="user-select:text"/></svg>
<span>7088 words</span></span><span class=meta-item>
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>15 min</span></span></div></header><div class="toc side right"><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#git%e9%85%8d%e7%bd%ae%e7%9b%b8%e5%85%b3 aria-label=Git配置相关>Git配置相关</a></li><li><a href=#%e7%9b%b8%e5%85%b3%e6%a6%82%e5%bf%b5 aria-label=相关概念>相关概念</a></li><li><a href=#%e5%9f%ba%e7%a1%80%e6%93%8d%e4%bd%9c aria-label=基础操作>基础操作</a><ul><li><a href=#%e5%b8%b8%e7%94%a8%e6%93%8d%e4%bd%9c aria-label=常用操作>常用操作</a></li><li><a href=#%e7%89%88%e6%9c%ac%e6%8e%a7%e5%88%b6 aria-label=版本控制>版本控制</a></li><li><a href=#%e8%bf%9c%e7%a8%8b%e5%ba%93 aria-label=远程库>远程库</a></li><li><a href=#%e5%88%86%e6%94%af%e7%ae%a1%e7%90%86 aria-label=分支管理>分支管理</a><ul><li><a href=#%e5%9f%ba%e6%9c%ac%e6%93%8d%e4%bd%9c aria-label=基本操作>基本操作</a></li><li><a href=#%e8%bf%9c%e7%a8%8b%e5%88%86%e6%94%af aria-label=远程分支>远程分支</a></li><li><a href=#%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5-%e4%bf%ae%e5%a4%8dbug aria-label=最佳实践-修复Bug>最佳实践-修复Bug</a></li><li><a href=#rebase aria-label=Rebase>Rebase</a></li></ul></li><li><a href=#%e6%a0%87%e7%ad%be%e7%ae%a1%e7%90%86 aria-label=标签管理>标签管理</a></li></ul></li><li><a href=#%e8%87%aa%e5%ae%9a%e4%b9%89git aria-label=自定义Git>自定义Git</a><ul><li><a href=#%e5%bf%bd%e7%95%a5%e7%89%b9%e6%ae%8a%e6%96%87%e4%bb%b6gitignore aria-label=忽略特殊文件.gitignore>忽略特殊文件<code>.gitignore</code></a></li><li><a href=#%e9%85%8d%e7%bd%ae%e5%88%ab%e5%90%8d aria-label=配置别名>配置别名</a></li></ul></li><li><a href=#%e5%b7%a5%e4%bd%9c%e6%b5%81 aria-label=工作流>工作流</a><ul><li><a href=#%e5%90%91%e4%b8%80%e4%b8%aa%e9%a1%b9%e7%9b%ae%e8%b4%a1%e7%8c%ae aria-label=向一个项目贡献>向一个项目贡献</a><ul><li><a href=#%e6%8f%90%e4%ba%a4%e5%87%86%e5%88%99 aria-label=提交准则>提交准则</a></li><li><a href=#%e7%a7%81%e6%9c%89%e5%bc%80%e5%8f%91%e9%a1%b9%e7%9b%ae aria-label=私有开发项目>私有开发项目</a></li><li><a href=#%e7%a7%81%e6%9c%89%e7%ae%a1%e7%90%86%e5%9b%a2%e9%98%9f aria-label=私有管理团队>私有管理团队</a></li><li><a href=#%e6%b4%be%e7%94%9f%e7%9a%84%e5%85%ac%e5%bc%80%e9%a1%b9%e7%9b%ae aria-label=派生的公开项目>派生的公开项目</a></li><li><a href=#%e9%80%9a%e8%bf%87%e9%82%ae%e4%bb%b6%e7%9a%84%e5%85%ac%e5%bc%80%e9%a1%b9%e7%9b%ae aria-label=通过邮件的公开项目>通过邮件的公开项目</a></li></ul></li><li><a href=#%e7%bb%b4%e6%8a%a4%e9%a1%b9%e7%9b%ae aria-label=维护项目>维护项目</a><ul><li><a href=#%e5%9c%a8%e4%b8%bb%e9%a2%98%e5%88%86%e6%94%af%e4%b8%ad%e5%b7%a5%e4%bd%9c aria-label=在主题分支中工作>在主题分支中工作</a></li><li><a href=#%e5%ba%94%e7%94%a8%e6%9d%a5%e8%87%aa%e9%82%ae%e4%bb%b6%e7%9a%84%e8%a1%a5%e4%b8%81 aria-label=应用来自邮件的补丁>应用来自邮件的补丁</a></li><li><a href=#%e6%a3%80%e5%87%ba%e8%bf%9c%e7%a8%8b%e5%88%86%e6%94%af aria-label=检出远程分支>检出远程分支</a></li><li><a href=#%e7%a1%ae%e5%ae%9a%e5%bc%95%e5%85%a5%e4%ba%86%e5%93%aa%e4%ba%9b%e4%b8%9c%e8%a5%bf aria-label=确定引入了哪些东西>确定引入了哪些东西</a></li><li><a href=#%e5%b0%86%e8%b4%a1%e7%8c%ae%e7%9a%84%e5%b7%a5%e4%bd%9c%e6%95%b4%e5%90%88%e8%bf%9b%e6%9d%a5 aria-label=将贡献的工作整合进来>将贡献的工作整合进来</a></li><li><a href=#%e5%8f%91%e5%b8%83 aria-label=发布>发布</a></li></ul></li><li><a href=#%e5%9f%ba%e4%ba%8egithub%e7%9a%84%e5%b7%a5%e4%bd%9c%e6%b5%81 aria-label=基于Github的工作流>基于Github的工作流</a></li></ul></li><li><a href=#%e5%b8%b8%e8%a7%81%e9%97%ae%e9%a2%98 aria-label=常见问题>常见问题</a><ul><li><a href=#ssh--t-gitgithubcom-%e8%bf%9e%e6%8e%a5%e8%b6%85%e6%97%b6 aria-label="ssh -T git@github.com 连接超时"><code>ssh -T git@github.com</code> 连接超时</a></li></ul></li></ul></div></details></div><div class=post-content><h3 id=git配置相关>Git配置相关<a hidden class=anchor aria-hidden=true href=#git配置相关>¶</a></h3><ul><li><p>（全局）配置：如果是局部配置，每个仓库都需要进行配置</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl># 设置全局配置
</span></span><span class=line><span class=cl># git config --global user.name &#34;zhangqingan&#34;
</span></span><span class=line><span class=cl># git config --global user.email &#34;zhangqingannn@bupt.edu.cn&#34;
</span></span><span class=line><span class=cl># git config --global https.proxy http://127.0.0.1:7890
</span></span><span class=line><span class=cl># git config --global https.proxy http://127.0.0.1:7890
</span></span><span class=line><span class=cl># 清除全局配置
</span></span><span class=line><span class=cl># git config --global unset user.name
</span></span><span class=line><span class=cl># git config --global unset user.email
</span></span></code></pre></td></tr></table></div></div><ul><li><p>如果是针对仓库的局部配置</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>git config --local user.name &#34;zhangqingan&#34;
</span></span><span class=line><span class=cl>git config --local user.email &#34;zhangqingannn@bupt.edu.cn&#34;
</span></span><span class=line><span class=cl># git config --local --list
</span></span></code></pre></td></tr></table></div></div></li></ul></li><li><p>生成密钥对</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>ssh-keygen -t rsa -C &#34;zhangqingannn@bupt.edu.cn&#34;
</span></span><span class=line><span class=cl># 并且后续生成密钥的位置自定义，注意win上这里是一个目录，linux上是文件名
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>ssh-keygen -l -f key # 查看密钥的contents（SHA256+comments）
</span></span></code></pre></td></tr></table></div></div></li><li><p>添加私钥</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl># ssh-agent bash
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>ssh-add private_key # 将私钥添加到本地
</span></span><span class=line><span class=cl>ssh-add -l # 查看当前添加的私钥
</span></span></code></pre></td></tr></table></div></div><p><a href=https://zhuanlan.zhihu.com/p/126117538>ssh agent详解</a></p></li><li><p>修改配置文件：修改<code>~/.ssh/config</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Host github(bupt)
</span></span><span class=line><span class=cl>  User QinganZhang
</span></span><span class=line><span class=cl>  HostName ssh.github.com
</span></span><span class=line><span class=cl>  IdentityFile /home/zqg/.ssh/github/bupt
</span></span><span class=line><span class=cl>  Port 443 # or 22
</span></span></code></pre></td></tr></table></div></div></li><li><p>reference and more reading</p><ul><li><a href=https://blog.csdn.net/yuanlaijike/article/details/95650625>Git多用户配置</a></li><li><a href=https://www.cnblogs.com/cscshi/p/15705045.html>如何为Git设置代理</a></li></ul></li></ul><h3 id=相关概念>相关概念<a hidden class=anchor aria-hidden=true href=#相关概念>¶</a></h3><ul><li><p>顶层概念：</p><ul><li>Workspace：工作区，本地的工作目录</li><li>Repository：包含<code>.git</code>目录的工作区，其中<code>.git</code>为版本库，其中保存了stage暂存区、第一个分支main、指向main的指针HEAD</li><li>Index/Stage：暂存区</li><li>Remote：远程仓库</li></ul></li><li><p>底层概念：from <a href=https://missing-semester-cn.github.io/2020/version-control/>missing semester中的Git</a></p><ul><li><p>文件称为Blob对象（数据对象），目录称为tree，每个commit即为一个对文件和目录的快照的指针（保存了当前的整个仓库，或者说追踪最顶层的树）</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=c1>// 文件就是一组数据
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>type</span> <span class=n>blob</span> <span class=o>=</span> <span class=n>array</span><span class=o>&lt;</span><span class=n>byte</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 一个包含文件和目录的目录
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>type</span> <span class=n>tree</span> <span class=o>=</span> <span class=n>map</span><span class=o>&lt;</span><span class=n>string</span><span class=p>,</span> <span class=n>tree</span> <span class=o>|</span> <span class=n>blob</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 每个提交都包含一个父辈，元数据和顶层树
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>type</span> <span class=n>commit</span> <span class=o>=</span> <span class=k>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nl>parent</span><span class=p>:</span> <span class=n>array</span><span class=o>&lt;</span><span class=n>commit</span><span class=o>&gt;</span> <span class=c1>// 一个commit可能有多个parent
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nl>author</span><span class=p>:</span> <span class=n>string</span>
</span></span><span class=line><span class=cl>    <span class=nl>message</span><span class=p>:</span> <span class=n>string</span>
</span></span><span class=line><span class=cl>    <span class=nl>snapshot</span><span class=p>:</span> <span class=n>tree</span> <span class=c1>// 追踪最顶层的树
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>对象可以是文件、目录或者commit，对象通过SHA-1哈希进行按名存取（文件和目录好说，但是commit就不好访问了，因此统一使用SHA-1哈希）</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>type object = blog | tree | commit
</span></span><span class=line><span class=cl>objects = map&lt;string, object&gt;
</span></span></code></pre></td></tr></table></div></div></li><li><p>为了方便好记，使用引用来指向最近一次的commit，而不是来记一串哈希值。因此，分支就是可变的引用，而标签就是绑定到特定commit的引用，HEAD指向当前的commit</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>references = map&lt;string, string&gt;
</span></span></code></pre></td></tr></table></div></div></li><li><p>因此，Repository保存的就是对象和引用。</p></li><li><p>前面说commit是一个对文件和目录的快照，是通过向暂存区进行若干次操作，确认保存操作的结果，即形成一个快照</p></li></ul></li><li><p>其他概念：</p><ul><li>track/untrack：文件或目录是否纳入到git的版本控制范围内</li></ul></li></ul><h3 id=基础操作>基础操作<a hidden class=anchor aria-hidden=true href=#基础操作>¶</a></h3><h4 id=常用操作>常用操作<a hidden class=anchor aria-hidden=true href=#常用操作>¶</a></h4><ul><li><p><code>git init -b main</code>：创建.git文件夹，将当前目录变成一个仓库，默认分支为main</p></li><li><p><code>git add</code>：将文件添加到暂存区（stage），相当于创建了快照，否则文件就是untracked的</p><ul><li><code>git diff</code>：比较当前工作区和暂存区快照之间的差异，即修改之后还没有暂存起来的变化内容</li></ul></li><li><p><code>git commit -m "comment"</code>：将暂存区的修改提交到分支（多次add之后进行一次commit），commit就是一个快照</p><ul><li><code>git diff --staged</code>：比较暂存区快照和最近一次commit之间的差异</li><li><code>git commit -a -m "comment" </code>：将所有跟踪过的文件暂存起来一起提交，跳过了<code>git add</code>步骤</li></ul></li><li><p><code>git status</code>：查看当前文件夹中文件的状态</p></li><li><p><code>git rm --cached &lt;file></code>：取消对file的跟踪</p></li><li><p><code>git diff</code>：</p><ul><li><a href=https://blog.csdn.net/lx_ros/article/details/131741154>git diff命令</a>，<a href=https://git-scm.com/docs/git-diff>官方文档</a></li><li><a href=https://blog.csdn.net/shaotianyang12/article/details/122025393>git diff输出结果解读</a><ul><li><a href=https://blog.csdn.net/gao_zhennan/article/details/120217246>git diff输出中 \ No newline at end of file的含义</a></li></ul></li></ul></li><li><p><code>git log</code>：查看commit历史，最近的排在最上面</p><ul><li><code>-p (--path)</code>：显示每次提交所引入的差异（按补丁的格式输出）<ul><li>补丁：即两次文件的差异</li></ul></li><li><code>--stat</code>：显示每次提交的简略统计信息</li><li><code>--ptetty</code>：设置输出模式，可以自定义输出格式</li><li><code>--decorate</code>：查看各个分支当前所指向的对象</li><li><code>--graph</code>：</li><li><code>-n</code>：限制输出长度</li><li><code>--since, --until</code></li><li><code>--grep</code>：搜索提交说明中的关键字</li><li><code>-S</code>：pickaxe选项，接受一个字符串，搜索那些添加或删除了该字符串的提交</li><li><code>-- path</code>：输出某些文件或目录的历史提交，注意这个参数是放在最后的（因此用两个短线隔开）</li></ul></li></ul><h4 id=版本控制>版本控制<a hidden class=anchor aria-hidden=true href=#版本控制>¶</a></h4><ul><li><p>版本回退</p><ul><li><code>git reset --hard HEAD^</code>：返回到最近一次commit<ul><li><code>HEAD</code>指向最近一次的commit，<code>HEAD^</code>和<code>HEAD^^</code>分别表示上一个commit和上上个commit</li></ul></li><li><code>git reset --hard commitId</code>：返回到特定的commit<ul><li><code>git log --pretty=oneline</code> ：显示所有提交过的commit，不包括已经回退的commit记录<ul><li><a href=https://www.zhihu.com/question/284554416>怎么才能看懂git log的线</a></li></ul></li><li><code>git reflog</code>：显示所有提交过的commit，包括回退的操作，比如回退之后又反悔了，需要使用reflog来找到新版本对应的commit id</li></ul></li></ul></li><li><p>撤销修改</p><ul><li>如果只是在本地工作区修改了，还没有git add：<code>git restore &lt;file></code>或者<code>git checkout -- &lt;file></code></li><li>如果在本地工作区修改之后，已经git add：<code>git restore --staged &lt;file></code>或者<code>git reset HEAD &lt;file></code></li><li>如果已经git commit，则进行版本回退</li></ul></li><li><p>重新提交：如果上一次commit完成后，发现漏了些文件，此时先git add，然后使用<code>git commit --ament</code>，这样只会有一次提交，后一次的提交会覆盖前一次的提交</p></li></ul><h4 id=远程库>远程库<a hidden class=anchor aria-hidden=true href=#远程库>¶</a></h4><p>对远程库的操作实际上都是对远程库中远程分支的操作，默认远程库为origin，远程分支为 与当前本地仓库分支 同名的远程分支</p><ul><li><p>远程库的几种使用场景：</p><ul><li><p>克隆别人的仓库：<code>git clone</code>默认只有main分支，使用<code>git checkout -b dev origin/dev</code>在本地创建dev分支，并且与远程的dev分支关联起来</p></li><li><p>自己在GitHub上新建一个仓库，然后clone下来进行开发</p></li><li><p>自己在本地目录下，先<code>git init</code>创建本地仓库，然后将本地仓库与远程仓库关联起来：<code>git remote add &lt;shortname> &lt;url></code></p><ul><li><p><code>&lt;url></code>支持多种协议，<code>&lt;shortname></code>即代表了该url</p></li><li><p>一般远程库的名字就叫origin</p></li><li><p>可以关联多个远程库，比如本地仓库关联一个共有的和一个私有的仓库</p></li></ul></li></ul></li><li><p>查看远程库信息：<code>git remote -v</code></p><ul><li>远程库可能有多个</li></ul></li><li><p>获取远程库的更新：</p><ul><li><code>git fetch &lt;remote></code>：只会将远程库的更新下载到本地仓库，不会自动进行合并</li><li><code>git pull</code>：如果当前分支设置了跟踪远程分支，则<code>git pull</code>会拉取更新，并自动进行合并。如果有冲突，需要手动解决冲突。</li><li><a href=https://blog.csdn.net/weixin_41975655/article/details/82887273>详解git pull和git fetch的区别</a></li></ul></li><li><p>将本地库的内容推送到远程库：<code>git push &lt;remote> &lt;branch></code></p><ul><li>默认remote是origin，默认将本地分支推送到远程的同名分支上</li><li><code>git push -u origin main</code>：第一次push时，远程库是空的，此时不但会将本地库的内容推送到远程库，而且将本地的main分支和远程库的main分支关联起来</li><li>如果他人先于你push到远程，你的push会被拒绝，此时需要拉取更新，手动修改冲突的部分，合并之后才能再push</li></ul></li><li><p>查看某个远程仓库：<code>git remote show &lt;remote></code></p></li><li><p>远程仓库重命名：<code>git remote rename old-name new-name</code></p></li><li><p>解除本地和远程库之间的关联关系：<code>git remote rm origin</code></p></li></ul><h4 id=分支管理>分支管理<a hidden class=anchor aria-hidden=true href=#分支管理>¶</a></h4><p>分支是指向commit的可变指针，默认名字为main，main分支在每次提交时都自动向前移动</p><p>HEAD是一个指向当前所在的本地分支的指针（可以想象为当前分支的别名）</p><h5 id=基本操作>基本操作<a hidden class=anchor aria-hidden=true href=#基本操作>¶</a></h5><p>注意这些操作都是在本地仓库的</p><ul><li><p>创建分支：<code>git branch dev</code></p><ul><li><code>--merged</code>：查看哪些分支已经合并到当前分支</li><li><code>--no-merged</code>：查看所有包含未合并工作的分支（即没有汇聚到当前分支的那些分支）</li></ul></li><li><p>重命名当前分支：<code>git branch -M newname</code></p></li><li><p>切换分支：<code>git checkout dev</code></p></li><li><p>创建并切换分支：<code>git checkout -b dev</code>或者<code>git switch -c dev</code></p></li><li><p>合并指定分支到当前分支：<code>git merge dev</code></p><ul><li>如果当前分支main和待合并分支dev存在冲突，此时进行了合并，但是没有创建一个新的commit，需要先解决冲突，再手动进行commit，解决冲突就是手动将git merge失败的文件手动进行编辑，可以使用<code>git status</code>查看unmerged的文件，然后使用<code>git merge --continue</code>继续合并过程。<ul><li><a href=https://git-scm.com/book/zh/v2/Git-%E5%88%86%E6%94%AF-%E5%88%86%E6%94%AF%E7%9A%84%E6%96%B0%E5%BB%BA%E4%B8%8E%E5%90%88%E5%B9%B6>Git官方文档-3.2分支的新建与合并</a></li><li><a href=https://zhuanlan.zhihu.com/p/621257493>Git冲突详细处理步骤及案例</a></li><li><a href=https://zhuanlan.zhihu.com/p/619771430>如何避免Git冲突</a></li><li><a href=https://blog.csdn.net/qq_44536533/article/details/123412327>git解决冲突（超详细图文版及常用命令）</a></li></ul></li><li>因此使用分支时应该在main分支中生成多个dev分支，最后选择合适的dev分支进行合并，而非直接在main分支上进行修改</li><li>默认合并分支时使用Fast forward模式，此时删除分支之后，会丢掉分支信息。如果禁用fast forward模式（<code>--no-ff</code>），git就会在merge时生成一个新的commit，这样，从分支历史上就可以看出分支信息<ul><li>fast forward模式的含义：比如dev是master的直接后继，即master之后没有分叉，此时将dev merge到master上时，直接移动master的指针即可</li></ul></li></ul></li><li><p>查看分支：<code>git branch</code></p><ul><li><code>-vv</code>：列出每一个分支正在跟踪的远程分支，以及ahead和behind信息<ul><li>如果需要查看最新的信息，则需要更新远程的信息，<code>git fetch --all; git branch -vv</code></li></ul></li></ul></li><li><p>删除分支：<code>git branch -d dev</code></p><ul><li>如果当前分支还没有被合并，而且需要删除当前分支，需要使用<code>git branch -D dev</code>强行删除</li></ul></li></ul><h5 id=远程分支>远程分支<a hidden class=anchor aria-hidden=true href=#远程分支>¶</a></h5><p>远程跟踪分支是远程分支状态的引用，相当于书签。比如远程仓库命名为origin，拉取该仓库的main分支，因此本地就将对应的commit叫做<code>origin/main</code>，在本地仓库同样有一个main分支，比如本地进行多个commit会ahead of origin/main。<a href=https://git-scm.com/book/zh/v2/Git-%E5%88%86%E6%94%AF-%E8%BF%9C%E7%A8%8B%E5%88%86%E6%94%AF>Git官方文档-3.5远程分支</a></p><ul><li>比如当拉取本地没有的、位于远程的新的分支b时，本地只会有一个不可修改的<code>origin/b</code>指针，本地不会自动生成一份可编辑的副本。因此，需要使用<code>git merge origin/b</code>将远程分支b合并到本地当前分支，或者<code>git checkout -b b origin/b</code>将远程分支拉取到本地的新分支b上（如果本地仓库没有分支b，而且远程分支只有一个叫做b的分支，则一个快捷方式为：<code>git checkout b</code>）</li><li>修改或设置跟踪的上游分支 ：<code>git branch -u origin/b</code></li><li>删除远程分支：<code>git push origin --delete b</code><ul><li>这个操作只是从服务器上移除这个指针，实际物理删除需要等到过一段时间git服务器进行垃圾回收时，因此误删通常是容易恢复的</li></ul></li></ul><h5 id=最佳实践-修复bug>最佳实践-修复Bug<a hidden class=anchor aria-hidden=true href=#最佳实践-修复bug>¶</a></h5><ul><li>背景：比如main分支上有一个bug，但是当前在dev分支上，而且针对dev的工作还没有完成（即当前不能commit到dev分支，从而清空status）</li><li>大致流程为：<ul><li>使用<code>git stash</code>将当前工作区保存起来，此时工作区恢复到最近一次commit时的状态</li><li>然后修复bug：先切换到main分支，创建修复bug的分支，修复bug，然后再合并到main分支，同时也需要将修复bug这个commit合并到其他dev分支，切换到dev分支，然后<code>git cherry-pick</code><ul><li><code>git cherry-pick commit_id</code>：复制一个特定的commit到当前分支（相当于在dev分支上将修复bug的操作重新进行commit，因此生成的commit id和在main分支上的commit id不同）</li></ul></li><li>修复完bug再恢复当前工作区<ul><li>查看暂存的工作区：<code>git stash list</code></li><li>恢复暂存的工作区：<ul><li><code>git stash apply</code>：恢复之前保存的工作区，但是保存的工作区内容还在stash中，需要使用<code>git stash drop</code>进行删除。可以恢复指定的工作区：<code>git stash apply stash{0}</code></li><li><code>git stash pop</code>：恢复工作区的公式，也将保存在stash中的内容删除</li></ul></li></ul></li></ul></li></ul><h5 id=rebase>Rebase<a hidden class=anchor aria-hidden=true href=#rebase>¶</a></h5><p>用来将一组commit按照顺序（即某一分支上的commit）合并到一个特定的commit后面（即另一个分支的最后）</p><ul><li>万能公式：<code>git rebase --onto &lt;base> &lt;start> &lt;end></code></li><li>变基原则：如果提交存在于你的仓库之外，而别人可能基于这些提交进行开发，则不要进行变基</li><li>参考<ul><li><a href=https://git-scm.com/book/zh/v2/Git-%E5%88%86%E6%94%AF-%E5%8F%98%E5%9F%BA>Git官方文档-3.6变基</a></li><li>万能公式来源：<a href=https://www.zhihu.com/question/25072850/answer/3303267651>强烈推荐：git rebase有哪些用法？elpie-kay的回答</a></li></ul></li></ul><h4 id=标签管理>标签管理<a hidden class=anchor aria-hidden=true href=#标签管理>¶</a></h4><p>标签就是指向commit的指针，但是分支可以移动，标签不能移动</p><p>在关键commit节点，使用commit id不方便，因此标签绑定到该commit id</p><ul><li><p>打标签：<code>git tag v1.0</code></p><ul><li>在某个特定的commit上打tag，并添加说明：<code>git tag -a v1.0 -m "comments" commitId</code></li><li>这里说的标签指的是轻量标签（某个特定提交的引用），附注标签指的是上面添加的说明</li></ul></li><li><p>查看所有标签：<code>git tag</code></p><ul><li>标签不是按照时间顺序列出，而是按照字母排列列出</li><li>查看标签信息：<code>git show v1.0</code></li></ul></li><li><p>删除标签：<code>git tag -d v0.9</code>可以删除本地标签</p><ul><li>删除远程标签时，先从本地删除，然后使用从远程删除。从远程删除：<ul><li>第一种方法：<code>git push origin :refs/tags/v0.9</code>（即将冒号前面的空值推送到远程）</li><li>第二种方法：<code>git push origin --delete v0.9</code></li></ul></li></ul></li><li><p>推送标签到远程：<code>git push origin v1.0</code></p><ul><li>默认情况下git push不会将标签推送到远程仓库上</li><li>一次性推送所有标签到远程：<code>git push origin --tags</code></li></ul></li><li><p>检出标签：<code>git checkout &lt;tag></code>，即将HEAD移动到指向某个标签，此时仓库处于detached HEAD状态</p></li></ul><h3 id=自定义git>自定义Git<a hidden class=anchor aria-hidden=true href=#自定义git>¶</a></h3><h4 id=忽略特殊文件gitignore>忽略特殊文件<code>.gitignore</code><a hidden class=anchor aria-hidden=true href=#忽略特殊文件gitignore>¶</a></h4><p>一些<a href=https://github.com/github/gitignore>.gitignore模板</a></p><p>虽然某个文件可以匹配到gitignore的规则，但是需要强制添加：<code>git add -f myfile</code></p><p>或者某个文件应该可以添加但仍然被忽略了，说明gitignore规则有问题，找出对应的规则条目：<code>git check-ignore -v myfile</code></p><p>在线生成gitignore文件：<a href=https://gitignore.itranswarp.com/>Gitignore Online Generator</a></p><h4 id=配置别名>配置别名<a hidden class=anchor aria-hidden=true href=#配置别名>¶</a></h4><ul><li><p>几个例子：</p><ul><li><p><code>git config --global alias.st status</code></p></li><li><p><code>git config --global alias.unstage 'restore --stage'</code>：将add到暂存区的修改撤销掉</p></li><li><p><code>git config --global alias.last 'log -1'</code>：显示最后一次提交信息</p></li><li><p><code>git config --global alias.lg "log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an>%Creset' --abbrev-commit"</code>：自定义git log显示</p></li></ul></li><li><p>删除别名时，只需要在仓库的配置文件<code>.git/config</code>或是用户的配置文件<code>.gitconfig</code>的<code>[alias]</code>段落中，删除掉特定的行即可</p></li></ul><h3 id=工作流>工作流<a hidden class=anchor aria-hidden=true href=#工作流>¶</a></h3><h4 id=向一个项目贡献>向一个项目贡献<a hidden class=anchor aria-hidden=true href=#向一个项目贡献>¶</a></h4><h5 id=提交准则>提交准则<a hidden class=anchor aria-hidden=true href=#提交准则>¶</a></h5><ul><li><p>提交不应包含trailing whitespace。git apply应用补丁时会检测空白错误,默认情况下,尾部空白,包含空白的空行,初始tab缩进之后紧跟的空白字符会被认为是错误。<a href=https://blog.csdn.net/sodaslay/article/details/46715311>参考</a></p><ul><li>在git apply patch时，应该先<code>git diff --check</code>，将会找到可能的whitespace errors并列出来</li></ul><blockquote><p>By default, trailing whitespaces (including lines that consist solely of whitespaces) and a space character that is immediately followed by a tab character inside the initial indent of the line are considered whitespace errors.</p><p>—— from <a href=https://git-scm.com/docs/git-diff>git-diff</a></p></blockquote></li><li><p>让每个commit解决一个问题，不要多个问题混在一个commit中</p></li><li><p>重视写commit message</p><ul><li>一个<a href=https://tbaggery.com/2008/04/19/a-note-about-git-commit-messages.html>好的commit message模板</a></li></ul></li></ul><h5 id=私有开发项目>私有开发项目<a hidden class=anchor aria-hidden=true href=#私有开发项目>¶</a></h5><p>Git文档中一个<a href=https://git-scm.com/book/zh/v2/%E5%88%86%E5%B8%83%E5%BC%8F-Git-%E5%90%91%E4%B8%80%E4%B8%AA%E9%A1%B9%E7%9B%AE%E8%B4%A1%E7%8C%AE>私有开发项目的例子</a></p><h5 id=私有管理团队>私有管理团队<a hidden class=anchor aria-hidden=true href=#私有管理团队>¶</a></h5><p>多个开发者在feature分支上工作，只有整合者才能将feature分支merge到master分支</p><p>Git文档中一个<a href=https://git-scm.com/book/zh/v2/%E5%88%86%E5%B8%83%E5%BC%8F-Git-%E5%90%91%E4%B8%80%E4%B8%AA%E9%A1%B9%E7%9B%AE%E8%B4%A1%E7%8C%AE>私有管理团队的例子</a></p><h5 id=派生的公开项目>派生的公开项目<a hidden class=anchor aria-hidden=true href=#派生的公开项目>¶</a></h5><p>先fork公开项目，然后自己进行修改，最后通过Pull Request请求合并</p><p>Git文档中一个<a href=https://git-scm.com/book/zh/v2/%E5%88%86%E5%B8%83%E5%BC%8F-Git-%E5%90%91%E4%B8%80%E4%B8%AA%E9%A1%B9%E7%9B%AE%E8%B4%A1%E7%8C%AE>派生的公开项目的例子</a></p><h5 id=通过邮件的公开项目>通过邮件的公开项目<a hidden class=anchor aria-hidden=true href=#通过邮件的公开项目>¶</a></h5><p>使用<code>git format-patch</code>生成mbox文件，它将每一个提交转换为一封电子邮件，其中保留了所有的提交信息。最后通过<code>git send-email</code>发送补丁。</p><h4 id=维护项目>维护项目<a hidden class=anchor aria-hidden=true href=#维护项目>¶</a></h4><h5 id=在主题分支中工作>在主题分支中工作<a hidden class=anchor aria-hidden=true href=#在主题分支中工作>¶</a></h5><h5 id=应用来自邮件的补丁>应用来自邮件的补丁<a hidden class=anchor aria-hidden=true href=#应用来自邮件的补丁>¶</a></h5><ul><li>使用<code>git apply</code>应用补丁<ul><li>补丁是通过<code>git diff</code>生成的，可以对补丁进行检查<code>git apply --check</code></li><li><code>git apply</code>要么全部应用补丁，要么全部不应用，不会部分应用补丁</li><li><code>git apply</code>之后，需要手动暂存并提交</li></ul></li><li>使用<code>git am</code>应用补丁（推荐）<ul><li>补丁是通过<code>git format-patch</code>生成的，此时补丁中包含了作者信息和commit message，因此更加推荐</li><li><code>git am</code>是为了读取mbox文件而构建的，mbox是一种用来在单个文本文件中存储一个或多个电子邮件消息的简单纯文本格式</li><li><code>git am</code>会自动创建一个新的提交，作者信息和提交消息来自于mbox文件，并自动应用mbox指向的补丁</li><li>如果发生冲突，则同样需要手动进行修改，然后暂存，再<code>git am --resolved</code>继续应用下一个补丁</li></ul></li><li><a href=https://blog.csdn.net/u013318019/article/details/114860407>git生成patch和打patch</a></li></ul><h5 id=检出远程分支>检出远程分支<a hidden class=anchor aria-hidden=true href=#检出远程分支>¶</a></h5><ul><li>背景：别人fork了自己的仓库，并且在某个分支上进行了修改，想提交贡献，此时我得到了它的仓库的URL和对应的分支<ul><li>如果想与他人建立长期的合作交流：将其仓库添加为远程仓库，fetch到本地并在本地checkout到该分支，进行测试</li><li>如果别人只是偶尔提供一个贡献<ul><li>直接pull到本地（不会将该URL添加为远程仓库），然后切换分支并进行测试</li><li>或者使用电子邮件来接受patch（或者使用托管服务）</li></ul></li></ul></li></ul><h5 id=确定引入了哪些东西>确定引入了哪些东西<a hidden class=anchor aria-hidden=true href=#确定引入了哪些东西>¶</a></h5><ul><li><p>检查main分支未包含的commit，比如检查某个分支<code>contrib</code>上引入的修改：<code>git log contrib --not main</code></p></li><li><p>如果想具体查看contrib分支上相对于原来main，到底有什么区别（即diff），使用<code>git diff main...contrib</code>，即对contrib分支的最新提交和两个分支的最近共同祖先进行比较（注意三个点）</p><ul><li>因为在进行contrib分支上的工作时，main分支可能同时继续向前，diff比较时的main分支应该为原来的位置，即为contrib和现在main分支的最近共同祖先</li></ul></li></ul><h5 id=将贡献的工作整合进来>将贡献的工作整合进来<a hidden class=anchor aria-hidden=true href=#将贡献的工作整合进来>¶</a></h5><ul><li><p>合并工作流：将主题分支合并到main分支，然后删除主题分支</p><ul><li>如果项目很重要，可以使用两阶段循环合并，即维护两个长期分支（main和develop分支），新代码首先合并到develop分支，打标签发布时才将main分支更新到稳定的develop分支</li></ul></li><li><p>为了保持线性的提交历史，可以在 main分支上对贡献来的工作进行变基而不是直接合并。另一种类似效果的方式是，提取分支的补丁，然后应用到当前分支上</p></li><li><p>Rerere：重用已记录的冲突解决方案，是一种简化冲突解决的方法。当启用 rerere 时，Git 将会维护一些成功合并之前和之后的镜像，当 Git 发现之前已经修复过类似的冲突时， 便会使用之前的修复方案，而不需要你的干预。</p></li></ul><h5 id=发布>发布<a hidden class=anchor aria-hidden=true href=#发布>¶</a></h5><ul><li>为发布打标签</li><li>生成一个构建号</li><li>创建一个归档文件</li><li>制作提交简报</li></ul><h4 id=基于github的工作流>基于Github的工作流<a hidden class=anchor aria-hidden=true href=#基于github的工作流>¶</a></h4><h3 id=常见问题>常见问题<a hidden class=anchor aria-hidden=true href=#常见问题>¶</a></h3><h4 id=ssh--t-gitgithubcom-连接超时><code>ssh -T git@github.com</code> 连接超时<a hidden class=anchor aria-hidden=true href=#ssh--t-gitgithubcom-连接超时>¶</a></h4><p>示例：<img src=https://cdn.jsdelivr.net/gh/QinganZhang/ImageHosting/img/2024-01-29-14:14:58.png alt=image-20240129141458740 style=zoom:90%></p><p><code>ssh -T git@github.com</code>的含义：</p><img src=https://cdn.jsdelivr.net/gh/QinganZhang/ImageHosting/img/2024-01-29-14:08:03.png alt=image-20240129140801719 style=zoom:80%><p>解决方法：</p><ul><li><p>如果使用ssh协议：修改HostName或者修改Port</p><ul><li><p>在<code>.ssh</code>文件夹下的<code>config</code>文件中修改：<a href=https://zhuanlan.zhihu.com/p/679107398>参考</a></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>Host github.com 
</span></span><span class=line><span class=cl>    HostName ssh.github.com
</span></span><span class=line><span class=cl>    User xxx
</span></span><span class=line><span class=cl>    IdentityFile xxx
</span></span></code></pre></td></tr></table></div></div><img src=https://cdn.jsdelivr.net/gh/QinganZhang/ImageHosting/img/2024-01-29-14:37:47.png alt=image-20240129143747231 style=zoom:80%></li></ul></li><li><p>如果使用https协议：<a href=https://zhuanlan.zhihu.com/p/521340971>参考</a></p></li></ul></div><footer class=post-footer><nav class=paginav><a class=prev href=https://qinganzhang.github.io/posts/%E5%B8%B8%E7%94%A8vim%E6%93%8D%E4%BD%9C/><span class=title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select:text"><line x1="19" y1="12" x2="5" y2="12" style="user-select:text"/><polyline points="12 19 5 12 12 5" style="user-select:text"/></svg>&nbsp;Prev Page</span><br><span>常用vim操作</span>
</a><a class=next href=https://qinganzhang.github.io/posts/leetcode%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/><span class=title>Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select:text"><line x1="5" y1="12" x2="19" y2="12" style="user-select:text"/><polyline points="12 5 19 12 12 19" style="user-select:text"/></svg></span><br><span>Leetcode刷题记录</span></a></nav></footer><div class=comments-separator></div></article></main><footer class=footer><span>&copy; 2024 <a href=https://qinganzhang.github.io/>Paul's Blog</a></span><span style=display:inline-block;margin-left:1em>
<a href=https://creativecommons.org/licenses/by-sa/4.0/>CC BY-SA</a>
</span><span style=display:inline-block;margin-left:1em>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
    <a href=https://github.com/reorx/hugo-PaperModX/ rel=noopener target=_blank>PaperModX</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>(function(){const t=""=="1";if(t)return;let e=document.getElementById("theme-toggle");e.removeEventListener("click",toggleThemeListener),e.addEventListener("click",toggleThemeListener)})()</script><script>(function(){let e=document.getElementById("menu");e&&(e.scrollLeft=localStorage.getItem("menu-scroll-position"),e.onscroll=function(){localStorage.setItem("menu-scroll-position",e.scrollLeft)});const t=""=="1",n=""=="1";if(window.matchMedia("(prefers-reduced-motion: reduce)").matches||t||n)return;document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})})()</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>if(window.scrollListeners)for(const e of scrollListeners)window.removeEventListener("scroll",e);window.scrollListeners=[]</script><script src=/js/medium-zoom.min.js data-no-instant></script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="copy";function s(){t.innerText="copied!",setTimeout(()=>{t.innerText="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script><script>(function(){const a="1"=="1";if(!a)return;if(!document.querySelector(".toc")){console.log("no toc found, ignore toc scroll");return}const r=window.scrollListeners,t=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id]"),n="active";let e=t[0];o(e).classList.add(n);const c=()=>{const s=[];for(const e of t)if(l(e)<5)s.push(e);else break;s.length>0?newActiveHeading=s[s.length-1]:newActiveHeading=t[0],e!=newActiveHeading&&(o(e).classList.remove(n),e=newActiveHeading,o(e).classList.add(n))};let s=null;const i=()=>{s!==null&&clearTimeout(s),s=setTimeout(c,50)};window.addEventListener("scroll",i,!1),r.push(i);function o(e){const t=encodeURI(e.getAttribute("id")).toLowerCase();return document.querySelector(`.toc ul li a[href="#${t}"]`)}function l(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect();return t.top}})()</script></body></html>